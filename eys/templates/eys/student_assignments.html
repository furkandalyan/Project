{% extends "eys/base.html" %}

{% block content %}
<div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
    <div>
        <h2 style="margin:0;">Ödevlerim</h2>
        <p style="color:#777; margin:4px 0 0;">Aldığın derslerdeki aktif ve geçmiş ödevler</p>
    </div>
</div>

<h3 style="margin:10px 0;">Yaklaşan</h3>
<div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(260px, 1fr)); gap:14px;">
    {% for assignment in upcoming %}
    <div style="background:white; padding:16px; border-radius:12px; box-shadow:0 8px 20px rgba(0,0,0,0.06); display:flex; flex-direction:column; gap:8px;">
        <div style="font-size:13px; color:#888;">{{ assignment.course.code }}</div>
        <div style="font-weight:700; font-size:16px;">{{ assignment.title }}</div>
        <div style="color:#555; font-size:14px;">
            {% if assignment.due_at %}Teslim: {{ assignment.due_at|date:"d.m.Y H:i" }}{% else %}Teslim tarihi yok{% endif %}
        </div>
        <div style="display:flex; justify-content:space-between; align-items:center; margin-top:4px;">
            <span style="font-size:13px; color:#666;">Durum: {{ assignment.status_label }}</span>
            <a href="{% url 'student_assignment_detail' assignment.id %}" style="color:#2459c3; font-weight:600;">Detay</a>
        </div>
    </div>
    {% empty %}
    <div style="color:#777;">Yaklaşan ödev yok.</div>
    {% endfor %}
</div>

<h3 style="margin:18px 0 10px 0;">Geçmiş</h3>
<div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(260px, 1fr)); gap:14px;">
    {% for assignment in past %}
    <div style="background:white; padding:16px; border-radius:12px; box-shadow:0 8px 20px rgba(0,0,0,0.06); display:flex; flex-direction:column; gap:8px;">
        <div style="font-size:13px; color:#888;">{{ assignment.course.code }}</div>
        <div style="font-weight:700; font-size:16px;">{{ assignment.title }}</div>
        <div style="color:#555; font-size:14px;">
            {% if assignment.due_at %}Teslim: {{ assignment.due_at|date:"d.m.Y H:i" }}{% else %}Teslim tarihi yok{% endif %}
        </div>
        <div style="display:flex; justify-content:space-between; align-items:center; margin-top:4px;">
            <span style="font-size:13px; color:#666;">Durum: {{ assignment.status_label }}</span>
            <a href="{% url 'student_assignment_detail' assignment.id %}" style="color:#2459c3; font-weight:600;">Detay</a>
        </div>
    </div>
    {% empty %}
    <div style="color:#777;">Geçmiş ödev yok.</div>
    {% endfor %}
</div>
{% endblock %}
