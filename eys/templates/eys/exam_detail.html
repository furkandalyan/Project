{% extends "eys/base.html" %}

{% block content %}

<h1 style="font-size:32px;">{{ exam.name }}</h1>
<p style="font-size:18px; color:#666;">{{ exam.description|default:"Açıklama bulunmuyor." }}</p>
<p style="font-size:16px; color:#888;">
    Planlanan Tarih: {{ exam.scheduled_at|date:"d.m.Y H:i" }} |
    Oluşturulma: {{ exam.created_at|date:"d.m.Y H:i" }}
</p>

<hr style="margin:20px 0;">

<div style="display:flex; justify-content:space-between; align-items:center;">
    <h2>Bağlı Learning Outcome'lar</h2>

    <a href="/teacher/exam/{{ exam.id }}/add-lo-weight/"
       style="background:#1db954; padding:10px 18px; color:white; border-radius:6px; text-decoration:none;">
       LO Bağla +
    </a>
</div>

<div style="margin-top:20px;">
    {% for w in weights %}
    <div style="background:white; padding:18px; border-radius:12px; box-shadow:0 0 12px rgba(0,0,0,0.08); margin-bottom:15px;">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:8px;">
            <strong>LO {{ w.learning_outcome.id }} – {{ w.learning_outcome.title }}</strong>
            <span style="color:#1db954; font-weight:600;">%{{ w.weight }}</span>
        </div>
        <div style="background:#f0f0f0; border-radius:999px; height:12px; overflow:hidden;">
            <div style="background:#1db954; height:100%; width:{{ w.weight }}%;"></div>
        </div>
        <p style="margin:10px 0 0 0; color:#666;">{{ w.learning_outcome.description|default:"LO açıklaması bulunmuyor." }}</p>
    </div>
    {% empty %}
    <p>Bu sınava henüz LO bağlanmamış.</p>
    {% endfor %}
</div>

{% endblock %}

