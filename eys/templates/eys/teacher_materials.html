{% extends "eys/base.html" %}

{% block content %}
<div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:18px;">
    <div>
        <h2 style="margin:0;">Ders Materyalleri</h2>
        <p style="color:#777; margin:4px 0 0;">Hafta bazlı materyal listesi</p>
    </div>
    <a href="{% url 'create_material' %}" style="background:#1db954; color:white; padding:10px 14px; border-radius:10px; text-decoration:none; font-weight:700;">Materyal Ekle</a>
</div>

<div style="display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:14px;">
    {% for m in materials %}
    <div style="background:white; padding:14px; border-radius:12px; box-shadow:0 8px 20px rgba(0,0,0,0.06);">
        <div style="font-size:13px; color:#888;">{{ m.course.code }} • Hafta {{ m.week }}</div>
        <div style="font-weight:700; font-size:16px; margin:4px 0;">{{ m.title }}</div>
        <div style="color:#555; font-size:14px;">{{ m.description|default:"" }}</div>
        {% if m.attachment %}
            <div style="margin-top:8px;"><a href="{{ m.attachment.url }}" style="color:#2459c3;">Dosyayı indir</a></div>
        {% endif %}
        <div style="margin-top:8px; font-size:12px; color:#999;">{{ m.created_at|date:"d.m.Y H:i" }}</div>
    </div>
    {% empty %}
    <div style="color:#777;">Henüz materyal yok.</div>
    {% endfor %}
</div>
{% endblock %}
